<!-- home.component.html (Texto del badge actualizado) -->
<div class="home-container">

  <section *ngIf="selectedCategoryName === 'Todos'" class="banner-carousel">
    <div class="banner-frame">
      <button class="banner-arrow left" (click)="prevBanner()" aria-label="Anterior banner">&#10094;</button>
      
      <div *ngFor="let banner of promoBanners; let i = index" 
           class="banner-slide" 
           [class.active]="i === carouselIndex">
        <img [src]="banner.asset" [alt]="banner.title">
        <div class="banner-cta">
          <h2>{{ banner.title }}</h2>
          <button class="btn-primary">COMPRAR AHORA</button>
        </div>
      </div>
      
      <button class="banner-arrow right" (click)="nextBanner()" aria-label="Siguiente banner">&#10095;</button>
    </div>
    
    <div class="banner-dots">
      <button *ngFor="let b of promoBanners; let i = index"
              class="dot"
              [class.active]="i === carouselIndex"
              (click)="selectBanner(i)"></button>
    </div>
  </section>

  <header class="filters-header">
    <div class="filters-toolbar">
      <div class="filters-left"></div>
      <div class="filters-right"></div>
    </div>
  </header>

  <div *ngIf="isLoading" class="loading-indicator">
    <div class="spinner" aria-hidden="true"></div>
    <p>Cargando productos...</p>
  </div>

  <div *ngIf="!isLoading && products.length === 0" class="no-products">
    <i class="bi bi-search-heart"></i>
    <p>No se encontraron productos con estos filtros.</p>
    <span>Intenta ajustar tu b√∫squeda.</span>
  </div>

  <section *ngIf="!isLoading && products.length > 0" class="product-grid" aria-live="polite">
    <a *ngFor="let product of products" class="product-card" [routerLink]="['/producto', product.idProducto]">
      
      <!-- === TEXTO DEL BADGE MODIFICADO === -->
      <div class="badge-discount">-28%</div>
      
      <button (click)="toggleFavorite(product, $event)" class="favorite-btn" [class.favorited]="isFavorite(product.idProducto)">
        <i class="bi" [class.bi-heart-fill]="isFavorite(product.idProducto)" [class.bi-heart]="!isFavorite(product.idProducto)"></i>
      </button>

      <div class="card-image-container">
        <img [src]="productService.getImageUrl(product.foto)" [alt]="product.nombre">
      </div>
      
      <div class="card-body">
        <span class="product-brand">{{ product.subCategoriaDescripcion }}</span>
        <h4 class="product-name">{{ product.nombre }}</h4>
        
        <div class="price-container">
          <span class="original-price">{{ calculateOriginalPrice(product.precioVenta) | currency:'S/':'symbol':'1.2-2' }}</span>
          <span class="sale-price">{{ product.precioVenta | currency:'S/':'symbol':'1.2-2' }}</span>
        </div>
      </div>
    </a>
  </section>

</div>
